From 261bf1fcb2ae393e3ef96805e7d7b2f93884f90d Mon Sep 17 00:00:00 2001
From: Ralph Bean <rbean@redhat.com>
Date: Fri, 7 Nov 2014 10:58:24 -0500
Subject: [PATCH] Try to get tests passing in koji again.

---
 fedmsg/tests/test_crypto_switching.py | 6 ++++--
 fedmsg/tests/test_crypto_x509.py      | 6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

diff --git a/fedmsg/tests/test_crypto_switching.py b/fedmsg/tests/test_crypto_switching.py
index 64feca2..5644856 100644
--- a/fedmsg/tests/test_crypto_switching.py
+++ b/fedmsg/tests/test_crypto_switching.py
@@ -18,14 +18,16 @@
 # Authors:  Ralph Bean <rbean@redhat.com>
 #
 import six
+import sys
 import os
 
 import nose.tools.nontrivial
 
-try:
+major, minor = sys.version_info[:2]
+if major == 2 and minor <= 6:
     # For python-2.6, so we can do skipTest
     import unittest2 as unittest
-except ImportError:
+else:
     import unittest
 
 import fedmsg.crypto
diff --git a/fedmsg/tests/test_crypto_x509.py b/fedmsg/tests/test_crypto_x509.py
index 06bde10..efea61a 100644
--- a/fedmsg/tests/test_crypto_x509.py
+++ b/fedmsg/tests/test_crypto_x509.py
@@ -20,13 +20,15 @@
 import os
 import shutil
 import six
+import sys
 
 import nose.tools.nontrivial
 
-try:
+major, minor = sys.version_info[:2]
+if major == 2 and minor <= 6:
     # For python-2.6, so we can do skipTest
     import unittest2 as unittest
-except ImportError:
+else:
     import unittest
 
 import fedmsg.crypto
-- 
1.9.3

